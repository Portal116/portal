//package Project;
//
//import java.awt.Color;
//import java.awt.Component;
//import java.awt.Font;
//import java.awt.event.ActionEvent;
//import java.awt.event.ActionListener;
//import java.awt.event.KeyAdapter;
//import java.awt.event.KeyEvent;
//import java.awt.event.MouseAdapter;
//import java.awt.event.MouseEvent;
//import java.sql.Connection;
//import java.sql.PreparedStatement;
//import java.sql.ResultSet;
//import java.text.DecimalFormat;
//import java.util.ArrayList;
//import java.util.Arrays;
//import java.util.List;
//
//import javax.swing.JButton;
//import javax.swing.JLabel;
//import javax.swing.JPanel;
//import javax.swing.JScrollPane;
//import javax.swing.JTable;
//import javax.swing.JTextField;
//import javax.swing.table.DefaultTableCellRenderer;
//import javax.swing.table.DefaultTableModel;
//import javax.swing.table.TableCellRenderer;
//import javax.swing.table.TableColumnModel;
//
//public class OrderPanel {
//   private static JPanel order = null;
//   private static Connection con = DBConnect.getConnection();
//   private static JTable tableMain = null;
//   private static JTextField textOrderNo;
//   private static JTextField textID;
//   private static JTextField textOrderAmount;
//   private static JTextField textOrderDate;
//   private static JTextField textProductNo;
//   public static String[] col_name = { "ÁÖ¹® ¹øÈ£", "ID", "»óÇ° ¹øÈ£", "¼ö·®", "ÆÇ¸Å ³¯Â¥", "ÆÇ¸Å °¡°Ý" };
//   public static String[][] datas = new String[0][6];
//   private static List<Integer> selectRows;
//   public static DefaultTableModel model;
//   public static PreparedStatement pstmt = null;
//   public static ResultSet rs = null;
//   private static JTextField textSum;
//
//   public OrderPanel() {
//      getPanel();
//   }
//
//   public static JPanel getPanel() {
//      // TODO Auto-generated method stub
//      if (order == null) {
//         order = new JPanel();
//
//         order.setBounds(0, 121, 1184, 640);
//
//         model = new DefaultTableModel(null, col_name) {
//            public Class<?> getColumnClass(int columnIndex) {
//               if (columnIndex == 0 || columnIndex == 2 || columnIndex == 3 || columnIndex == 5)
//                  return Integer.class;
//               else
//                  return String.class;
//            }
//         };
//         tableMain = new JTable(model);
//         resizeColumnWidth(tableMain);
//         tableMain.addKeyListener(new KeyAdapter() {
//            @Override
//            public void keyReleased(KeyEvent e) {
//               int temp = tableMain.getSelectedRow();
//               selectRows = new ArrayList<>(
//                     Arrays.asList(Arrays.stream(tableMain.getSelectedRows()).boxed().toArray(Integer[]::new)));
//               for(Integer i : selectRows)
//                  System.out.println(i);
//               textOrderNo.setText(Integer.toString((Integer) model.getValueAt(temp, 0)));
//               textID.setText((String) (model.getValueAt(temp, 1)));
//               textProductNo.setText(Integer.toString((Integer) model.getValueAt(temp, 2)));
//               textOrderAmount.setText(Integer.toString((Integer) model.getValueAt(temp, 3)));
//               textOrderDate.setText((String) model.getValueAt(temp, 4));
//               textSum.setText(Integer.toString((Integer) model.getValueAt(temp, 5)));
//            }
//         });
////         tableMain.setIntercellSpacing(new Dimension(0, 0));
//         tableMain.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         tableMain.getTableHeader().setReorderingAllowed(false);
//         tableMain.setRowHeight(30);
//         tableMain.getTableHeader().setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer();
//         centerRenderer.setHorizontalAlignment(JLabel.CENTER);
//         tableMain.getColumnModel().getColumn(0).setCellRenderer(centerRenderer);
//         tableMain.getColumnModel().getColumn(2).setCellRenderer(centerRenderer);
//         tableMain.getColumnModel().getColumn(3).setCellRenderer(centerRenderer);
//         tableMain.getColumnModel().getColumn(4).setCellRenderer(centerRenderer);
//         tableMain.getColumnModel().getColumn(5).setCellRenderer(new RightNumberRenderer());
//         tableMain.addMouseListener(new MouseAdapter() {
//            @Override
//            public void mousePressed(MouseEvent e) {
//               int temp = tableMain.getSelectedRow();
//               
//               textOrderNo.setText(Integer.toString((Integer) model.getValueAt(temp, 0)));
//               textID.setText((String) (model.getValueAt(temp, 1)));
//               textProductNo.setText(Integer.toString((Integer) model.getValueAt(temp, 2)));
//               textOrderAmount.setText(Integer.toString((Integer) model.getValueAt(temp, 3)));
//               textOrderDate.setText((String) model.getValueAt(temp, 4));
//               textSum.setText(Integer.toString((Integer) model.getValueAt(temp, 5)));
//            }
//
//            @Override
//            public void mouseReleased(MouseEvent e) {
//               selectRows = new ArrayList<>(
//                     Arrays.asList(Arrays.stream(tableMain.getSelectedRows()).boxed().toArray(Integer[]::new)));
//               for(Integer i : selectRows)
//                  System.out.println(i);
//            }
//         });
//
//         getTable();
//
//         JScrollPane scrollPane = new JScrollPane(tableMain);
//         scrollPane.setBounds(12, 10, 1160, 536);
//         tableMain.setAutoCreateRowSorter(true);
////         TableRowSorter tablesorter = new TableRowSorter(tableMain.getModel());
////         tableMain.setRowSorter(tablesorter);
//         order.setLayout(null);
//
//         scrollPane.setViewportView(tableMain);
//         order.add(scrollPane);
//
//         JPanel insertPanel = new JPanel();
//         insertPanel.setBounds(0, 550, 1184, 90);
//         order.add(insertPanel);
//         insertPanel.setLayout(null);
//
//         JPanel panel_1 = new JPanel();
//         panel_1.setBounds(488, 52, 682, 30);
//         insertPanel.add(panel_1);
//         panel_1.setLayout(null);
//
//         JButton btnSearch = new RoundedButton("\uAC80\uC0C9");
//         btnSearch.setBounds(0, 0, 127, 30);
//         panel_1.add(btnSearch);
//         btnSearch.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         btnSearch.setBackground(Color.WHITE);
//
//         JButton btnUpdate = new RoundedButton("\uC218\uC815");
//         btnUpdate.setBounds(141, 0, 125, 30);
//         panel_1.add(btnUpdate);
//         btnUpdate.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         btnUpdate.setBackground(Color.WHITE);
//
//         JButton btnDelete = new RoundedButton("\uC0AD\uC81C");
//         btnDelete.setBounds(417, 0, 127, 30);
//         panel_1.add(btnDelete);
//         btnDelete.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         btnDelete.setBackground(Color.WHITE);
//
//         JButton btnSave = new RoundedButton("\uC800\uC7A5");
//         btnSave.setBounds(278, 0, 127, 30);
//         panel_1.add(btnSave);
//         btnSave.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         btnSave.setBackground(Color.WHITE);
//
//         JButton btnReset = new RoundedButton("Reset");
//         btnReset.setBounds(555, 0, 127, 30);
//         panel_1.add(btnReset);
//         btnReset.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         btnReset.setBackground(Color.WHITE);
//
//         // ÁÖ¹®Á¤º¸ ÀúÀåÇÏ±â
//         btnSave.addActionListener(new ActionListener() {
//            public void actionPerformed(ActionEvent e) {
//               String sql = "INSERT INTO ordertbl(ID, productNo, orderAmount, orderDate) VALUES(?, ?, ?, ?)";
//               try {
//                  pstmt = con.prepareStatement(sql);
//                  pstmt.setString(1, textID.getText());
//                  pstmt.setInt(2, Integer.parseInt(textProductNo.getText()));
//                  pstmt.setInt(3, Integer.parseInt(textOrderAmount.getText()));
//                  String date = textOrderDate.getText();
//                  java.sql.Date sDate = java.sql.Date.valueOf(date);
//                  pstmt.setDate(4, sDate);
//                  pstmt.executeUpdate();
//                  model.setRowCount(0);
//                  getTable();
//               } catch (Exception ex) {
//                  ex.printStackTrace();
//               }
//            }
//         });
//
//         JPanel panel = new JPanel();
//         panel.setBounds(10, 8, 1160, 36);
//         insertPanel.add(panel);
//         panel.setLayout(null);
//
//         JLabel lblOrderNo = new JLabel("\uC8FC\uBB38 \uBC88\uD638");
//         lblOrderNo.setBounds(21, 8, 65, 21);
//         panel.add(lblOrderNo);
//         lblOrderNo.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         lblOrderNo.setBackground(Color.BLUE);
//
//         textOrderNo = new JTextField();
//         textOrderNo.setBounds(107, 5, 136, 27);
//         panel.add(textOrderNo);
//         textOrderNo.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         textOrderNo.setColumns(10);
//
//         JLabel lblID = new JLabel("ID");
//         lblID.setBounds(264, 8, 15, 21);
//         panel.add(lblID);
//         lblID.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//
//         textID = new JTextField();
//         textID.setBounds(300, 5, 136, 27);
//         panel.add(textID);
//         textID.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         textID.setColumns(10);
//
//         JLabel lblProductNo = new JLabel("\uC0C1\uD488 \uBC88\uD638");
//         lblProductNo.setBounds(457, 8, 65, 21);
//         panel.add(lblProductNo);
//         lblProductNo.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//
//         textProductNo = new JTextField();
//         textProductNo.setBounds(543, 5, 136, 27);
//         panel.add(textProductNo);
//         textProductNo.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         textProductNo.setColumns(10);
//
//         JLabel lblOrderAmount = new JLabel("\uC218\uB7C9");
//         lblOrderAmount.setBounds(700, 8, 30, 21);
//         panel.add(lblOrderAmount);
//         lblOrderAmount.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//
//         textOrderAmount = new JTextField();
//         textOrderAmount.setBounds(751, 5, 136, 27);
//         panel.add(textOrderAmount);
//         textOrderAmount.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         textOrderAmount.setColumns(10);
//
//         JLabel lblOrderDate = new JLabel("\uD310\uB9E4 \uB0A0\uC9DC");
//         lblOrderDate.setBounds(908, 8, 65, 21);
//         panel.add(lblOrderDate);
//         lblOrderDate.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//
//         textOrderDate = new JTextField();
//         textOrderDate.setBounds(994, 5, 136, 27);
//         panel.add(textOrderDate);
//         textOrderDate.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         textOrderDate.setColumns(10);
//
//         JLabel lblSum = new JLabel("\uB9E4\uCD9C \uD569\uACC4");
//         lblSum.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         lblSum.setBackground(Color.WHITE);
//         lblSum.setBounds(16, 50, 83, 30);
//         insertPanel.add(lblSum);
//
//         textSum = new JTextField();
//         textSum.setFont(new Font("¸¼Àº °íµñ", Font.PLAIN, 15));
//         textSum.setColumns(10);
//         textSum.setBounds(97, 50, 221, 30);
//         insertPanel.add(textSum);
//      }
//      return order;
//   }
//
//   public static void getTable() {
//      model.setRowCount(0);
//      try {
//         String query = "SELECT * FROM ordertbl";
//         pstmt = con.prepareStatement(query);
//         rs = pstmt.executeQuery();
//
//         while (rs.next()) {
//            model.addRow(new Object[] { rs.getInt("orderNo"), rs.getString("ID"), rs.getInt("productNo"),
//                  rs.getInt("orderAmount"), rs.getString("orderDate"), rs.getInt("totalPrice") });
//         }
//
//      } catch (Exception e) {
//         e.printStackTrace();
//      }
//   }
//
//   public static void resizeColumnWidth(JTable table) {
//      final TableColumnModel columnModel = table.getColumnModel();
//      for (int column = 0; column < table.getColumnCount(); column++) {
//         int width = 15; // Min width
//         for (int row = 0; row < table.getRowCount(); row++) {
//            TableCellRenderer renderer = table.getCellRenderer(row, column);
//            Component comp = table.prepareRenderer(renderer, row, column);
//            width = Math.max(comp.getPreferredSize().width + 1, width);
//         }
//         if (width > 300)
//            width = 300;
//         columnModel.getColumn(column).setPreferredWidth(width);
//      }
//   }
//
////   new DefaultTableCellRenderer() {
////      private final DecimalFormat formatter = new DecimalFormat("####,####,####");
////
////      public final Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected,
////            boolean hasFocus, int row, int column) {
////         if (value == null) {
////            value = 0;
////         }
////         setHorizontalAlignment(JLabel.RIGHT);
////         value = formatter.format((Number) value);
////         final Component result = super.getTableCellRendererComponent(table, value, isSelected, hasFocus,
////               row, column);
////
////         return result;
////      }
////   }
//
//}
//
//class RightNumberRenderer extends DefaultTableCellRenderer {
//
//   private final DecimalFormat formatter = new DecimalFormat("###,###,###,###");
//
//   public final Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected,
//         boolean hasFocus, int row, int column) {
//      if (value == null) {
//         value = 0;
//      }
//      setHorizontalAlignment(JLabel.RIGHT);
//      value = formatter.format((Number) value);
//      final Component result = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);
//
//      return result;
//   }
//}